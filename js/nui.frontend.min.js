// nui.frontend.min.js.


var nui=function(){return{};};nui.accordion=(function(){function hidePane(obj){obj.trigger.removeClass('active');obj.pane.removeClass('active');obj.pane.hide();}
function showPane(obj){obj.pane.addClass('active');obj.trigger.addClass('active');obj.pane.hide();obj.pane.slideDown(300);}
function changePane(target,old){hidePane(old);showPane(target);}
return{init:function(){var $Accordions=$('.nuiAccordion');$Accordions.each(function(index){var $acc=$(this),$panes=$acc.find('.pane'),$triggers=$acc.find('.trigger');$panes.first().add($triggers.first()).addClass("first active");$panes.not('.active').hide();});$Accordions.delegate('.trigger:not(.active), .nextPane','click',function(){var $obj=$(this),$acc=$obj.parents('.nuiAccordion'),target={},old={};old.trigger=$acc.find('.trigger.active');old.pane=$acc.find('.pane.active');if($obj.hasClass('trigger')){target.trigger=$obj;target.pane=target.trigger.next('.pane');}
else if($obj.hasClass('nextPane')){target.trigger=$obj.parents('.pane').next('.trigger');target.pane=target.trigger.next('.pane');old.trigger.addClass('complete');}
changePane(target,old);return false;});$Accordions.delegate('.close','click',function(){hidePane({trigger:$(this).parents('.pane').prev('.trigger'),pane:$(this).parents('.pane')});});},expandAll:function($obj){$obj.find('.pane').show();},collapseAll:function($obj){$obj.find('.pane').hide();}};}());nui.form=(function(){return{init:function(){}};}());nui.openspace=(function(){return{init:function(){var $visual=$('#visual'),$clickme=$visual.find('.omnilink').add('.clickme'),$nav=$('#nav');$clickme.show();$nav.mouseenter(function(e){$(this).toggleClass('inactive','active');$clickme.hide();});$nav.mouseleave(function(e){$(this).toggleClass('inactive','active');$clickme.show();});}};}());$(document).ready(function(){nui.accordion.init();nui.form.init();});nui.cookie=(function(){var self=this;return{read:function(name){var nameEQ=name+"=",ca=document.cookie.split(';'),i,c;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;},create:function(name,value,days,path){var expires,date,path_to,new_cookie;path_to="path=/";if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
else{expires="";}
if(path){path_to=path_to+path;}
document.cookie=name+"="+value+expires+";"+path_to;new_cookie=this.read(name);return new_cookie;},destroy:function(name,path){if(self.read(name)){self.create(name,"",-1,path);return true;}
else{return false;}},update:function(name,value,days,path){var x;if(self.read(name)){x=self.create(name,value,days,path);return x;}
else{return false;}}};}());nui.popup=(function(){var gc=0,popupData=[],Popup_Const,def_popup={},default_settings;default_settings={template:'t1',skin:'skin1',dialog_width:700,dialog_height:700,dialog_custom_css:false,mask_opacity:0.7,mask_custom_css:false,anim_fadeIn_speed:500,anim_fadeOut_speed:400,color:'black',onClose:function(){}};Popup_Const=function(settings,name){var _settings={},$mask,$dialog,$closeBtn,x;function CreateSettings(s){var y={};for(var key in default_settings){y[key]=default_settings[key];}
for(key in s){y[key]=s[key];}
_settings=y;}
CreateSettings(settings);$mask=$('<div class="nuiPopUp mask">');$dialog=$('<div class="nuiPopUp dialog">');$closeBtn=$('<a class="nuiButton close" href="#">');function Reset(){$mask.add($dialog).removeClass(_settings.template).removeClass(_settings.skin);}
function setup_components(){Reset();$mask.add($dialog).addClass(_settings.template).addClass(_settings.skin);}
setup_components();function Close(){$dialog.animate({opacity:0},_settings.anim_fadeOutSpeed,function(){$dialog.empty();$mask.fadeOut(300);});$mask.removeClass('busy');$closeBtn.removeClass('busy');$dialog.remove();stopMoving=false;$(window).unbind('resize');$(document).unbind('keyup');}
function Display(self,obj,onClose,target){var scrolltop,$target;if(target&&typeof target==='object'){$target=target;}
else{$target=$("body");}
$mask.hide();$dialog.css('visibility','hidden');$('body').append($mask);$target.append($dialog);$dialog.append(obj).append($closeBtn).width(_settings.dialog_width).css({marginLeft:(function(){return(-($dialog.outerWidth()/2))+'px';}()),opacity:0,visibility:'visible'});$dialog.fadeIn();if($('html').scrollTop()>$('body').scrollTop()){scrolltop=$('html').scrollTop();}
else{scrolltop=$('body').scrollTop();}
$dialog.css('top',scrolltop+25+"px");$mask.height($(document).height());$mask.add($closeBtn).bind('click',function(){Close(self);return false;});$(window).bind('resize',function(){$mask.height($(this).height());});$(document).bind('keyup',function(e){if(e.keyCode==27){Close();}});$mask.fadeIn(500);$dialog.animate({opacity:1},1000);}
function Load(self,url,params,onClose,target){var $nonce=$('<div class="nonce">');if(params){$nonce.load(url,params,function(response,status){$(this).unwrap('.nonce');Display($(this),onClose);});}
else{$nonce.load(url,function(response,status){$(this).unwrap('.nonce');Display($(this),onClose);});}}
function Frag(self,obj,clone,onClose,target){if(clone){obj=obj.clone(true,true);}
Display(self,obj,onClose,target);}
function Attr(self,key,val){if(typeof key==='object'){Reset();CreateSettings(key);setup_components();}
if(val){_settings[key]=val;}
else{return _settings[key];}}
return{load:function(url,params,onClose,target){Load(this,url,params,onClose,target);},frag:function(obj,clone,onClose,target){Frag(this,obj,clone,onClose,target);},attr:function(key,val){val=val||null;key=key||null;return Attr(this,key,val);},setup:function(obj){Reset();CreateSettings(obj);setup_components();}};};return{create:function(settings,name){var new_popup;if(!settings){settings=null;}
new_popup=new Popup_Const(settings,name);new_popup.guid=gc;popupData.push(new_popup);gc++;return new_popup;},init:function(setup){def_popup=this.create();nui.popup.set_defualt(0);},set_defualt:function(id){def_popup=popupData[id];this.load=function(url,params,onClose,target){def_popup.load(url,params,onClose);};this.frag=function(obj,clone,onClose,target){def_popup.frag(obj,clone,onClose,target);};this.attr=function(key,val){if(val){def_popup.attr(key,val);}
else{return def_popup.attr(key);}};this.setup=function(obj){def_popup.setup(obj);};},name:name,load:null,frag:null,attr:null};}());$(document).ready(function(){nui.popup.init();});nui.sign_petition=(function(){var form_fields={"first_name":{"id":"#ctl00_cphContentArea_Action1_txtFullname_txtFirstName"},"last_name":{"id":"#ctl00_cphContentArea_Action1_txtFullname_txtLastName"},"country":{"id":"#ctl00_cphContentArea_Action1_ddlCountries"},"mobile":{"id":"#ctl00_cphContentArea_Action1_txtCellPhone"}};function get_fields(){var ff,$ff,ff_tagName;for(var key in form_fields){if(form_fields.hasOwnProperty(key)){ff=form_fields[key];$ff=$(ff.id);if($ff.length>0){ff_tagName=$ff[0].tagName;if(ff_tagName==="INPUT"){ff.value=$(ff.id).val();}
else if(ff_tagName==="SELECT"){ff.value=$(ff.id).find(":selected").val();}}}}}
function update_body(){get_fields();var $email_body,email_content,splitter;splitter=" - - - - - ";$email_body=$("#ctl00_cphContentArea_Action1_txtBody");email_content=$email_body.val();email_content=email_content.split(splitter)[0];if(form_fields.first_name.value){email_content=email_content+splitter;email_content=email_content+" "+form_fields.first_name.value;if(form_fields.last_name.value){email_content=email_content+" "+form_fields.last_name.value;}
$email_body.val(email_content);}}
function add_hander($obj){$obj.change(function(){update_body();});}
return{init:function(){if($('body').hasClass('letter')){update_body();for(var key in form_fields){if(form_fields.hasOwnProperty(key)){add_hander($(form_fields[key].id));}}}}};}());$(document).ready(function(){for(var key in nui){if(nui.hasOwnProperty(key)){if(nui[key].hasOwnProperty('init')){if(typeof nui[key].init==='function'){nui[key].init();}}}}});